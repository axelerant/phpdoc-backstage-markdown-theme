{%- macro markdown_route(curr_template, value) -%}
    {%- set urls = value|route('url') -%}
    {%- set urls = urls is iterable ? urls : [urls] -%}
    {%- set links = [] -%}

    {%- for url in urls -%}
        {%- set url = url|replace({'.html': '.md'}) -%}

        {# Apply conditional replacement #}
        {%- if curr_template == 'index' -%}
            {%- set url = './' ~ url -%}
        {%- else -%}
            {%- set url = '../' ~ url -%}
        {%- endif -%}

        {%- set links = links|merge(['[' ~ value.name ~ '](' ~ url ~ ')']) -%}
    {%- endfor -%}

    {{ links|join(' ') }}
{%- endmacro -%}

{%- macro markdown_link(curr_template, value) -%}
    {%- set urls = link(value) -%}
    {%- set urls = urls is iterable ? urls : [urls] -%}
    {%- set links = [] -%}

    {%- for url in urls -%}
        {%- set url = url|replace({'.html': '.md'}) -%}

        {# Apply conditional replacement #}
        {%- if curr_template == 'index' -%}
            {%- set url = './' ~ url -%}
        {%- else -%}
            {%- set url = '../' ~ url -%}
        {%- endif -%}

        {%- set links = links|merge([url]) -%}
    {%- endfor -%}

    {{ links|join(' ') }}
{%- endmacro -%}
